---
layout: post
title:  "踢球分组中的概率"
date:   2009-02-22 18:48:00
categories: tech
---

以前暑假经常找同学一起踢足球，一般都能找到8个固定的同学，分成两组对抗。分组的方法是8个人围在一起，出示手心或手背，直到4个手心，4个手背的情况，就算分组成功。有时候会出现很多次都不成功的情况，很浪费时间，有个同学就想了个办法：他自己先站出去，由剩下的7个人先分，分成一组3个，一组4个的情况，最后他就直接加入3人的那一组，这样就会容易成功一点。

这样分组的方法真的会更容易吗？下面用计算概率的方法来验证。

### 方法一：排列组合

首先使用排列组合的思想来计算。对于原始的分组方式，每个人都有出示手心或手背两种选择，所以共有$2^8$种可能，但其中存在重复的情况，例如前2个人手心、后6个手背，与前2个手背、后6个手心的情况导致最后的分组是一样的，所以实际的情况共有$2^8/2$。只有当4个人出手心，4个人出手背，分组才成功，相当于从8个人中选出4个，为$\mathrm{C}_8^4$，但同样也存在重复情况，选择前4个人与选择后4个人的情况是一样的，所以成功的情况有$\mathrm{C}_8^4/2$。成功情况的数目除以所有情况的数目，得出成功的概率为：

$$\mathcal{P}_{old} = \frac{\mathrm{C}_8^4/2}{2^8/2} = \mathrm{C}_8^4(2)^{-8} = \frac{8\times7\times6\times5}{4\times3\times2\times1}(2)^{-8} \qquad \qquad (1)$$


现在，来计算新的分组方法成功的概率。新的方法实际上相当于7个人分组，分成一组3个和一组4个。使用相同的方法分析，可得所有可能的情况为$2^7/2$，成功的情况为$\mathrm{C}_7^3/2$。因此，新的分组方法成功的概率为：
$$\mathcal{P}_{new} = \frac{\mathrm{C}_7^3/2}{2^7/2} = \mathrm{C}_7^3(2)^{-7} = \frac{7\times6\times5\times2}{3\times2\times1}(2)^{-8} \qquad \qquad (2)$$
比较以上两个式子，不难发现两者是相等。

### 方法二：独立事件概率

下面使用独立事件的思想来计算概率。在没有人作弊的情况下，一个人出示手心或手背是一个独立事件，且出示手心或手背的概率各占50%（假设没有个人偏好）。那么，使用原始的分组方法，成功的情况为4个人出示手心，剩下的4个人出示手背，概率为：
$$\mathcal{P}_{old} = \mathrm{C}_8^4(\frac{1}{2})^4(\frac{1}{2})^4 = \mathrm{C}_8^4(2)^{-8} \qquad \qquad (3)$$
新的方法的概率为：
$$\mathcal{P}_{new} = \mathrm{C}_7^3(\frac{1}{2})^3(\frac{1}{2})^4 = \mathrm{C}_7^3(2)^{-7} \qquad \qquad (4)$$
以上两个式子的结果也是相等的，且也等于(1)，(2)。

### 推广到2n

现在将此推广到有N个人的情况，要分组成功，总人数必定为偶数，设为2n。使用独立事件的方法，可计算出原始方法的成功概率为：
$$\mathcal{P}_{old} = \mathrm{C}_{2n}^{n}(\frac{1}{2})^n(\frac{1}{2})^n = \mathrm{C}_{2n}^{n}(2)^{-2n} \qquad \qquad (5)$$
新方法成功的概率为：
$$\mathcal{P}_{new} = \mathrm{C}_{2n-1}^{n-1}(\frac{1}{2})^{n-1}(\frac{1}{2})^n = \mathrm{C}_{2n-1}^{n-1}(2)^{-(2n-1)} \qquad \qquad (6)$$
比较一下，两者也是相等。

由此可见，无论多少人踢球，新方法并不比原始方法更容易成功。
